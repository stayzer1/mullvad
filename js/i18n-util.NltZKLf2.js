const h=t=>Object.fromEntries(Object.entries(t).map(([n,e])=>n!=="i"&&e&&e!="0"&&[n,e]).filter(Boolean)),E=t=>Object.fromEntries(Object.keys(t).map(n=>{const e=t[n];return[n,Array.isArray(e)?e.map(s=>s==null?void 0:s.trim()):e===!!e?e:e==null?void 0:e.trim()]})),P=t=>{const[n="",...e]=t.split("|"),[s="",r]=n.split(":"),[o,i]=s.split("?");return{k:o,i:r,n:i==="",f:e}},k=t=>!!(t.o||t.r),O=(t,n)=>{let[e,s]=t.split(":");s||(s=e,e=n);const r=s.split("|"),[o,i,c,l,p,b]=r,a=r.filter(g=>g!==void 0).length;return a===1?{k:e,r:o}:a===2?{k:e,o,r:i}:a===3?{k:e,z:o,o:i,r:c}:{k:e,z:o,o:i,t:c,f:l,m:p,r:b}},j=/^\{.*\}$/,v=t=>Object.fromEntries(u(t).split(",").map(n=>n.split(":")).reduce((n,e)=>e.length===2?[...n,e.map(s=>s.trim())]:(n[n.length-1][1]+=","+e[0],n),[])),f=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,u=t=>t.substring(1,t.length-1),y=(t,n=!0,e="",s="")=>t.split(f).map(r=>{if(!r.match(f))return r;const o=u(r);if(o.startsWith("{"))return O(u(o),s);const i=P(o);return s=i.k||s,!e&&(e=s),i}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=e||"0");const o=E(r);return n?h(o):o}),A=(t,n,e)=>n.reduce((s,r)=>{var o,i;return(i=r.match(j)?(c=>{var l;return(l=c[s])!==null&&l!==void 0?l:c["*"]})(v(r)):(o=t[r])===null||o===void 0?void 0:o.call(t,s))!==null&&i!==void 0?i:s},e),w=(t,{z:n,o:e,t:s,f:r,m:o,r:i},c)=>{switch(n&&c==0?"zero":t.select(c)){case"zero":return n;case"one":return e;case"two":return s;case"few":return r??i;case"many":return o??i;default:return i}},_=/\?\?/g,R=(t,n,e,s)=>t.map(r=>{if(typeof r=="string")return r;const{k:o="0",f:i=[]}=r,c=s[o];if(k(r))return((typeof c=="boolean"?c?r.o:r.r:w(n,r,c))||"").replace(_,c);const l=i.length?A(e,i,c):c;return(""+(l??"")).trim()}).join(""),L=(t,n,e,s)=>{const r=s[0],o=r&&typeof r=="object"&&r.constructor===Object,i=s.length===1&&o?r:s;return R(t,n,e,i)},S=(t,n)=>t[n]||(t[n]=y(n)),T=(t,n)=>{const e={},s=new Intl.PluralRules(t);return(r,...o)=>L(S(e,r),s,n,o)};function z(t,n,e={}){return m(n,T(t,e))}const d=(t={},n)=>typeof t=="string"?n.bind(null,t):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),t),m=(t,n)=>new Proxy(d(t,n),{get:(e,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(e).map(r=>d(r,n))):m(e[s],n)}),V="en",I=["ar","da","de","en","es","fa","fi","fr","it","ja","ko","nl","no","pl","pt","ru","sv","th","tr","zh-hans","zh-hant"],G=t=>I.includes(t),C={},B={},W=t=>z(t,C[t],B[t]);export{C as a,V as b,G as c,I as d,W as i,B as l};
